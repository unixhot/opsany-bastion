(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad58d1dc"],{"2d26":function(t,e,a){"use strict";a.d(e,"d",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return u})),a.d(e,"b",(function(){return s}));var n=a("b775"),r="command-strategy-v2/",i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"get",params:t})},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"post",data:t})},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"put",data:t})},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"delete",data:t})}},"3a2e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{attrs:{loading:t.tableLoading,dataSource:t.tableData,columns:t.columns,pagination:Object.assign({},t.tableQuery,{showSizeChanger:!0,showTotal:function(t){return"共 "+t+" 条数据"},showQuickJumper:!0}),rowKey:function(t){return t.id}},on:{change:t.tableChange}})],1)},r=[],i=(a("4de4"),a("d3b7"),a("c24f")),o={props:["userList"],data:function(){return{tableQuery:{current:1},tableData:[],columns:[{title:"用户名",dataIndex:"username",ellipsis:!0},{title:"昵称",dataIndex:"ch_name",ellipsis:!0},{title:"邮箱",dataIndex:"email",ellipsis:!0}],tableLoading:!1}},methods:{getUserList:function(){var t=this;this.tableLoading=!0;var e={all_data:1};Object(i["c"])(e).then((function(e){t.tableData=e.data.filter((function(e){return t.userList.filter((function(t){return t==e.id})).length}))})).finally((function(){t.tableLoading=!1}))},tableChange:function(t){var e=t.current,a=t.pageSize;this.tableQuery.current=e,this.tableQuery.pageSize=a}},mounted:function(){this.getUserList()}},u=o,s=a("2877"),d=Object(s["a"])(u,n,r,!1,null,"6f7751ae",null);e["default"]=d.exports},"45fcd":function(t,e,a){var n={"./Command.vue":"afdc","./CommandGroup.vue":"bb10"};function r(t){var e=i(t);return a(e)}function i(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=i,t.exports=r,r.id="45fcd"},"4adb":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{attrs:{loading:t.tableLoading,dataSource:t.ssh_credential_host_id,columns:t.columns,pagination:Object.assign({},t.tableQuery,{showSizeChanger:!0,showTotal:function(t){return"共 "+t+" 条数据"},showQuickJumper:!0}),rowKey:function(t){return t.id}},on:{change:t.tableChange}})],1)},r=[],i={props:["ssh_credential_host_id"],data:function(){return{tableQuery:{current:1},tableData:[],columns:[{title:"凭证名称",dataIndex:"credential.name",ellipsis:!0},{title:"主机名称",dataIndex:"host.host_name",ellipsis:!0},{title:"IP地址",dataIndex:"host.host_address",ellipsis:!0}],tableLoading:!1}},methods:{tableChange:function(t){var e=t.current,a=t.pageSize;this.tableQuery.current=e,this.tableQuery.pageSize=a}},mounted:function(){}},o=i,u=a("2877"),s=Object(u["a"])(o,n,r,!1,null,"76bfe656",null);e["default"]=s.exports},"5c28":function(t,e,a){"use strict";a.r(e),a.d(e,"getCommandGroup",(function(){return i})),a.d(e,"addCommandGroup",(function(){return o})),a.d(e,"editCommandGroup",(function(){return u})),a.d(e,"delCommandGroup",(function(){return s}));var n=a("b775"),r="command-group/",i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"get",params:t})},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"post",data:t})},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"put",data:t})},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"delete",data:t})}},"8d59":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{attrs:{loading:t.tableLoading,dataSource:t.tableData,columns:t.columns,pagination:Object.assign({},t.tableQuery,{showSizeChanger:!0,showTotal:function(t){return"共 "+t+" 条数据"},showQuickJumper:!0}),rowKey:function(t){return t.id}},on:{change:t.tableChange}})],1)},r=[],i=(a("4de4"),a("d3b7"),a("c24f")),o={props:["userGroupList"],data:function(){return{tableQuery:{current:1},tableData:[],columns:[{title:"用户组名称",dataIndex:"name",ellipsis:!0},{title:"描述",dataIndex:"description",ellipsis:!0,customRender:function(t){return t||"--"}}],tableLoading:!1}},methods:{getUserGroupList:function(){var t=this;this.tableLoading=!0;var e={all_data:1};Object(i["a"])(e).then((function(e){t.tableData=e.data.filter((function(e){return t.userGroupList.filter((function(t){return t==e.id})).length}))})).finally((function(){t.tableLoading=!1}))},tableChange:function(t){var e=t.current,a=t.pageSize;this.tableQuery.current=e,this.tableQuery.pageSize=a}},mounted:function(){this.getUserGroupList()}},u=o,s=a("2877"),d=Object(s["a"])(u,n,r,!1,null,"318878f7",null);e["default"]=d.exports},"9a1d":function(t,e,a){var n={"./Group.vue":"8d59","./PasswordVoucher.vue":"ddc9","./SSHKey.vue":"4adb","./User.vue":"3a2e","./VoucherGroup.vue":"9c8f"};function r(t){var e=i(t);return a(e)}function i(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=i,t.exports=r,r.id="9a1d"},"9c8f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{attrs:{loading:t.tableLoading,dataSource:t.credential_group,columns:t.columns,pagination:Object.assign({},t.tableQuery,{showSizeChanger:!0,showTotal:function(t){return"共 "+t+" 条数据"},showQuickJumper:!0}),rowKey:function(t){return t.id}},on:{change:t.tableChange}})],1)},r=[],i={props:["credential_group"],data:function(){return{tableQuery:{current:1},tableData:[],columns:[{title:"名称",dataIndex:"name",ellipsis:!0},{title:"描述",dataIndex:"description",ellipsis:!0,customRender:function(t){return t||"--"}}],tableLoading:!1}},methods:{tableChange:function(t){var e=t.current,a=t.pageSize;this.tableQuery.current=e,this.tableQuery.pageSize=a}},mounted:function(){}},o=i,u=a("2877"),s=Object(u["a"])(o,n,r,!1,null,"472e2fed",null);e["default"]=s.exports},afdc:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{attrs:{loading:t.tableLoading,dataSource:t.tableData,columns:t.columns,pagination:Object.assign({},t.tableQuery,{showSizeChanger:!0,showTotal:function(t){return"共 "+t+" 条数据"},showQuickJumper:!0}),rowKey:function(t){return t.id}},on:{change:t.tableChange}})],1)},r=[],i=(a("4de4"),a("d3b7"),a("bb62")),o={props:["commandList"],data:function(){return{tableQuery:{current:1},tableData:[],columns:[{title:"命令名称",dataIndex:"command",ellipsis:!0},{title:"命令类型",dataIndex:"block_type",ellipsis:!0,customRender:function(t){return 1==t?"命令阻断":"命令提醒"}},{title:"提示内容",dataIndex:"block_info",ellipsis:!0}],tableLoading:!1}},methods:{getCommand:function(){var t=this;this.tableLoading=!0;var e={all_data:1};Object(i["getCommand"])(e).then((function(e){t.tableData=e.data.filter((function(e){return t.commandList.filter((function(t){return t==e.id})).length}))})).finally((function(){t.tableLoading=!1}))},tableChange:function(t){var e=t.current,a=t.pageSize;this.tableQuery.current=e,this.tableQuery.pageSize=a}},mounted:function(){this.getCommand()}},u=o,s=a("2877"),d=Object(s["a"])(u,n,r,!1,null,"1f76cdff",null);e["default"]=d.exports},bb10:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{attrs:{loading:t.tableLoading,dataSource:t.tableData,columns:t.columns,pagination:Object.assign({},t.tableQuery,{showSizeChanger:!0,showTotal:function(t){return"共 "+t+" 条数据"},showQuickJumper:!0}),rowKey:function(t){return t.id}},on:{change:t.tableChange}})],1)},r=[],i=(a("4de4"),a("d3b7"),a("5c28")),o={props:["commandGroupList"],data:function(){return{tableQuery:{current:1},tableData:[],columns:[{title:"命令组名称",dataIndex:"name",ellipsis:!0},{title:"描述",dataIndex:"description",ellipsis:!0,customRender:function(t){return t||"--"}}],tableLoading:!1}},methods:{getCommandGroup:function(){var t=this;this.tableLoading=!0;var e={all_data:1};Object(i["getCommandGroup"])(e).then((function(e){t.tableData=e.data.filter((function(e){return t.commandGroupList.filter((function(t){return t==e.id})).length}))})).finally((function(){t.tableLoading=!1}))},tableChange:function(t){var e=t.current,a=t.pageSize;this.tableQuery.current=e,this.tableQuery.pageSize=a}},mounted:function(){this.getCommandGroup()}},u=o,s=a("2877"),d=Object(s["a"])(u,n,r,!1,null,"04dad8da",null);e["default"]=d.exports},bb62:function(t,e,a){"use strict";a.r(e),a.d(e,"getCommand",(function(){return i})),a.d(e,"addCommand",(function(){return o})),a.d(e,"editCommand",(function(){return u})),a.d(e,"delCommand",(function(){return s}));var n=a("b775"),r="command/",i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"get",params:t})},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"post",data:t})},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"put",data:t})},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"delete",data:t})}},ddc9:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{attrs:{loading:t.tableLoading,dataSource:t.password_credential_host_id,columns:t.columns,pagination:Object.assign({},t.tableQuery,{showSizeChanger:!0,showTotal:function(t){return"共 "+t+" 条数据"},showQuickJumper:!0}),rowKey:function(t){return t.id}},on:{change:t.tableChange}})],1)},r=[],i={props:["password_credential_host_id"],data:function(){return{tableQuery:{current:1},tableData:[],columns:[{title:"凭证名称",dataIndex:"credential.name",ellipsis:!0},{title:"主机名称",dataIndex:"host.host_name",ellipsis:!0},{title:"IP地址",dataIndex:"host.host_address",ellipsis:!0}],tableLoading:!1}},methods:{tableChange:function(t){var e=t.current,a=t.pageSize;this.tableQuery.current=e,this.tableQuery.pageSize=a}},mounted:function(){}},o=i,u=a("2877"),s=Object(u["a"])(o,n,r,!1,null,"4269ecd6",null);e["default"]=s.exports},de3b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("content-header",[a("a-button",{attrs:{slot:"right",icon:"arrow-left",type:"primary"},on:{click:function(e){return t.$router.go(-1)}},slot:"right"},[t._v("返回")])],1),a("a-card",{attrs:{loading:t.loading}},[a("a-card",{attrs:{title:"基本信息"}},[a("a-row",{attrs:{gutter:[16,16]}},[a("a-col",{attrs:{span:24}},[t._v("策略名称："+t._s(t.info.name))]),a("a-col",{attrs:{span:24}},[t._v("有效期："+t._s(t.info.start_time||"-")+" ~ "+t._s(t.info.end_time||"-"))])],1)],1),a("a-tabs",{staticStyle:{"margin-top":"20px"},attrs:{type:"card"}},[a("a-tab-pane",{key:"1",attrs:{tab:"关联命令"}},[a("a-tabs",{attrs:{"tab-position":"left"}},[a("a-tab-pane",{key:"1",attrs:{tab:"命令"}},[a("Command",{attrs:{commandList:t.commandList}})],1),a("a-tab-pane",{key:"2",attrs:{tab:"命令组"}},[a("CommandGroup",{attrs:{commandGroupList:t.commandGroupList}})],1)],1)],1),a("a-tab-pane",{key:"2",attrs:{tab:"授权用户"}},[a("a-tabs",{attrs:{"tab-position":"left"}},[a("a-tab-pane",{key:"1",attrs:{tab:"授权用户"}},[a("User",{attrs:{userList:t.userList}})],1),a("a-tab-pane",{key:"2",attrs:{tab:"授权用户组"}},[a("Group",{attrs:{userGroupList:t.userGroupList}})],1)],1)],1),a("a-tab-pane",{key:"3",attrs:{tab:"资源凭证"}},[a("a-tabs",{attrs:{"tab-position":"left"}},[a("a-tab-pane",{key:"1",attrs:{tab:"密码凭证"}},[a("PasswordVoucher",{attrs:{password_credential_host_id:t.password_credential_host_id}})],1),a("a-tab-pane",{key:"2",attrs:{tab:"SSH密钥"}},[a("SSHKey",{attrs:{ssh_credential_host_id:t.ssh_credential_host_id}})],1),a("a-tab-pane",{key:"3",attrs:{tab:"凭证分组"}},[a("VoucherGroup",{attrs:{credential_group:t.credential_group}})],1)],1)],1)],1)],1)],1)},r=[],i=(a("d3b7"),a("5530")),o=a("2d26"),u=a("ca00"),s={components:Object(i["a"])(Object(i["a"])({},Object(u["a"])(a("9a1d"))),Object(u["a"])(a("45fcd"))),data:function(){return{id:void 0,loading:!1,info:{},ipLimitList:[{key:1,name:"无"},{key:2,name:"黑名单"},{key:3,name:"白名单"}],commandList:[],commandGroupList:[],userList:[],userGroupList:[],password_credential_host_id:[],ssh_credential_host_id:[],credential_group:[]}},methods:{getCommandStrategy:function(){var t=this;this.loading=!0,Object(o["d"])({id:this.id}).then((function(e){t.info=e.data.strategy,t.commandList=e.data.command.command||[],t.commandGroupList=e.data.command.command_group||[],t.userList=e.data.user.user||[],t.userGroupList=e.data.user.user_group||[],t.password_credential_host_id=e.data.credential_host.password_credential_host_id||[],t.ssh_credential_host_id=e.data.credential_host.ssh_credential_host_id||[],t.credential_group=e.data.credential_host.credential_group||[]})).finally((function(){t.loading=!1}))}},mounted:function(){this.id=this.$route.query.id,this.getCommandStrategy()}},d=s,c=a("2877"),l=Object(c["a"])(d,n,r,!1,null,"403b131c",null),b=l.exports;e["default"]=b}}]);